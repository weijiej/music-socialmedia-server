<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ artist["ArtistName"] }}'s Profile</title>
    <link rel="stylesheet" type="text/css" href="/static/styles.css">
</head>
<body>
    <h1>{{ artist["ArtistName"] }}'s Profile</h1>

     <!-- Flash Messages -->
    <div style="margin-bottom: 20px;">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert {{ category }}" style="padding: 10px; 
                        margin-bottom: 10px; 
                        border-radius: 4px;
                        {% if category == 'success' %}
                            background-color: #d4edda; 
                            border: 1px solid #c3e6cb; 
                            color: #155724;
                        {% elif category == 'info' %}
                            background-color: #d1ecf1; 
                            border: 1px solid #bee5eb; 
                            color: #0c5460;
                        {% elif category == 'danger' %}
                            background-color: #f8d7da; 
                            border: 1px solid #f5c6cb; 
                            color: #721c24;
                        {% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>
    
    <!-- Back to Dashboard Button -->
    <div style="margin-bottom: 20px;">
        <a href="{{ url_for('dashboard') }}" 
           style="padding: 10px 20px; 
                  background-color: lightblue; 
                  color: black; 
                  border: 1px solid black; 
                  border-radius: 4px; 
                  text-decoration: none; 
                  font-size: 16px;">
            Back to Dashboard
        </a>
    </div>

    <!-- Artist Details -->
    <section>
        <h2>Details</h2>
        <p><strong>Biography:</strong> {{ artist["ArtistBio"] or "No biography available." }}</p>
        <p><strong>Country:</strong> {{ artist["Country"] or "Unknown" }}</p>
    </section>

    <!-- Songs by the Artist -->
    <section>
        <h2>Songs</h2>
        {% if songs %}
        <ul>
            {% for song in songs %}
            <li>{{ song["Title"] }}</li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No songs available for this artist.</p>
        {% endif %}
    </section>
    
    <!-- Follow Artist Button -->
    <form action="{{ url_for('follow_artist') }}" method="POST">
        <input type="hidden" name="artist_id" value="{{ artist['ArtistID'] }}">
        <button type="submit" 
                style="padding: 10px 20px; 
                       background-color: green; 
                       color: white; 
                       border: none; 
                       border-radius: 4px; 
                       cursor: pointer;">
            Follow Artist
        </button>
    </form>
</body>
</html>
